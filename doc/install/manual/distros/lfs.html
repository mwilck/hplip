<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="../../../images/favicon.ico" type="image/x-icon" />
<title>Configure Linux From Scratch</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../../styles/default.css" type="text/css" /> 
<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE" />
<META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT" />
<META NAME="DESCRIPTION" CONTENT="HP Linux Imaging and Printing - HPLIP is an HP developed solution for printing, scanning, and faxing with HP inkjet and laser based printers in Linux.">
<META NAME="KEYWORDS" CONTENT="HPLIP, HP, Linux, Printing, HPIJS">
</head>
<body>
<div id="page"><!-- start page -->
<div id="container"><!-- start main container -->
<!-- start banner -->

<div id="banner">
<div id="banner_graphics">
        <div id="floatleft">
        <img src="../../../images/hplogo2.png" alt="HP Logo" border="0" />
        </div>
        <div id="floatcenter">
        <a href="../../../index.html">
        <img src="../../../images/hpliplogo.png" alt="HP Logo" border="0" />
        </a>
        </div>
        <div id="floatright">
        <img src="../../../images/tuxlogo2.png" alt="Tux" border="0" />
        </div>
    </div>
</div>
<!-- end banner -->

<div id="navbar">
<table>
    <tr>
        <td valign="top">
<div id="sidebar-a">
<ul id="sidebar-a-list">
    <menu compact="compact">
        <div class="menuheader"><a href="../../../index.html" title="">Home</a></div>
    </menu>

<div class="menuheader">About</div>
    <menu compact="compact">
        <li><a href="../../../features.html" title="">Features</a></li> 
        <li><a href="../../../screenshots.html" title="">Screenshots</a></li> 
        <li><a href="../../../faqs.html" title="FAQs">FAQs</a></li> 
        <li><a a href="../../../about.html" title="About">About HPLIP</a></li>
    </menu>
<div class="menuheader">Setup and Installation</div>
    <menu compact="compact">
        <li><a href="../../../downloads.html" title="Downloads">Download HPLIP</a></li>
        <li><a href="../../../install/index.html" title="Installation Instructions">Installation Instructions</a></li> 
        <li><a href="../../../system_requirements.html" title="System Requirements">System Requirements</a></li> 
        <li><a href="../../../supported_devices/index.html" title="Supported Devices">Supported Devices</a></li> 
    </menu>
<div class="menuheader">Usage and Support</div>
    <menu compact="compact">
        <li><a href="../../../mailing_lists.html" title="Mailing Lists">Support</a></li>
        <li><a href="../../../howtos/index.html" title="How-Tos">How-Tos</a></li> 
        <li><a href="../../../troubleshooting/index.html" title="Troubleshooting">Troubleshooting</a></li>
        <li><a href="../../../release_notes.html" title="Release Notes">Release Notes</a></li>
    </menu>
<div class="menuheader">Resources</div>
    <menu compact="compact">
        <li><a href="../../../tech_docs/index.html" title="">Technical Documentation</a></li> 
        <li><a href="http://sourceforge.net/projects/hplip/" title="Our project page on Sourceforge.net">Sourceforge Project Page</a></li> 
        <li><a href="../../../license.html" title="Software License">Software License</a></li>
        <li><a a href="../../../other_support.html" title="Other Support Information">Other Support Information</a></li>
        <li><a href="../../../contacts.html" title="Contacts">Contacts</a></li>
    </menu>
</ul>
</div>
<!-- end sidebar --></td>
</div>
<td width=100%>
<div id="content"><!-- start content -->
        <a href="../../../index.html">Home</a>
&gt;
<a href="../../index.html">Installation</a>
&gt;
<a href="../index.html">Manual Install</a>
&gt;
<a href="index.html">Linux Distributions</a>
&gt;
LFS/BLFS

<hr size="1"/>
        <div class="document" id="manual-build-and-install-instructions-for-linux-from-scratch">
<h1 class="title">Manual Build and Install Instructions for Linux From Scratch</h1>
<div class="section">
<h1><a id="step-1-installation-prerequisite-steps" name="step-1-installation-prerequisite-steps">Step 1: Installation Prerequisite Steps</a></h1>
<div class="important">
<p class="first admonition-title">Important</p>
<p class="last">This process has not been tested on HPLIP 2.x</p>
</div>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">This process has not been tested by the HPLIP Team and is not supported.</p>
</div>
<p><a class="reference" href="../../../release_notes.html">View the current Release Notes</a> for additional information on this release.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">You will need root access to complete many of the steps while installing HPLIP. If you do not have root access contact your system admin for assistance.</p>
</div>
<p><em>Installing hplip-2.7.9 on an LFS system</em></p>
<p>This document describes the installation of hplip-1.7.1 on a Linux
from Scratch (LFS)/Beyond Linux from Scratch (BLFS) setup. We have
OfficeJet usb printers in mind. Printing and scanning was found to
work well on the HP-OfficeJet 5510 all-in-one.</p>
<p>Some system components of the LFS/BLFS build on which this experience
is based are: gcc-4.0.3 ; glibc-2.3.6; udev-088; Linux-2.6.16.5;
python-2.4.3; libusb-0.1.12; usbutils-0.72; xfree86-4.5.0; gimp-2.2.10;
cups-1.1.23; ESP_Ghostscript-8.15.1; sane-1.0.18; xsane-0.994;
foomatic-3.1.0.</p>
<p>The procedure installs hplip /usr.</p>
<p>It is assumed that</p>
<ol class="lowerroman">
<li><dl class="first docutils">
<dt>all the system requirements for the building of hplip are</dt>
<dd><p class="first last">met. In particular, CUPS should be working on its own;</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>hplip-2.7.9.tar.gz has been untarred into a directory we</dt>
<dd><p class="first last">shall call &quot;Build&quot;;</p>
</dd>
</dl>
</li>
<li><p class="first">you are now in Build.</p>
</li>
</ol>
<p>The various steps are described below.</p>
<p>First as an unprivileged user:</p>
<pre class="literal-block">
$ cd hplip-2.7.9
$ ./configure --prefix=/usr --disable-pp-build --enable-foomatic-ppd-install
$ make
</pre>
<p>Configuration notes:</p>
<dl class="docutils">
<dt>--disable-pp-build: if your printers do not connect to the parallel</dt>
<dd>port.</dd>
<dt>--enable-foomatic-ppd-install: if you wish to use foomatic-ppd-files. At</dt>
<dd>the moment this database covers a larger variety of HP-printers.</dd>
</dl>
<p>You should add: --disable-network-build if you do not have net-snmp installed.</p>
<p>Next, as root:</p>
<pre class="literal-block">
# make install
</pre>
<p>Find the foomatic filter script  &quot;foomatic-rip&quot; wherever it was installed.
If it is not installed, download from</p>
<a href="http://www.openprinting.org/download/foomatic/foomatic-filters-3.0-20071012.tar.gz">Openprinting.org</a><p>and do</p>
<pre class="literal-block">
# cp foomatic-rip /usr/lib/cups/filter/
</pre>
<p>Now</p>
<pre class="literal-block">
# cd /usr/share/cups/model/
# ln -s /usr/share/ppd/HP/* foomatic-ppds
</pre>
<p>Edit the file /etc/udev/rules.d/25-lfs.rules:</p>
<ol class="lowerroman simple">
<li>Add the following rule (from SUSE) as a single line to the very top:</li>
</ol>
<p>SUBSYSTEM==&quot;usb_device&quot;, PROGRAM=&quot;/bin/sh -c 'K=%k; K=$${K#usbdev}; printf bus/usb/%%03i/%%03i $${K%%%%.*} $${K#*.}'&quot;, NAME=&quot;%c&quot;, MODE=&quot;0644&quot;</p>
<ol class="lowerroman simple" start="2">
<li>Comment out the rules</li>
</ol>
<p>KERNEL==&quot;lp[0-9]*&quot;,      GROUP=&quot;lp&quot;
BUS==&quot;usb&quot;, KERNEL==&quot;lp[0-9]*&quot;, NAME=&quot;usb/%k&quot;, GROUP=&quot;lp&quot;</p>
<p>by inserting a hash (#) in front of them</p>
<ol class="lowerroman simple" start="3">
<li>Make sure that your HP-device is plugged in and turned on. Run the following script to stop the udev-daemon:</li>
</ol>
<pre class="literal-block">
# T=`pidof -x udevd`; kill $T
</pre>
<p>Then start the udev-daemon again by running:</p>
<pre class="literal-block">
# /etc/rc.d/init.d/udev start
</pre>
<p>When udev is started, run:</p>
<pre class="literal-block">
# lsusb
</pre>
<p>and see if your device has been detected. If &quot;lsusb&quot; is not available (it is part of &quot;usbutils&quot;) you could also do:</p>
<!-- parsed-literal:

# ls /dev/bus/usb/00* -->
<p>If there is something, your device is seen correctly for the purposes of hplip.</p>
<p>Explanations:</p>
<p>CUPS has to see the foomatic filter. That is why it has to be
copied, or symbolically linked, into the file /usr/lib/cups/filter/
If this is not done, printing with CUPS will not be possible.</p>
<p>CUPS will look for the Foomatic ppd's in /usr/share/cups/model/
If the symbolic link is not made you will be unable to configure your
printer.</p>
<p>The addition of the SUSE-rule in /ets/udev/rules.d/25-lfs.rules will set
up your usb devices properly for hplip. It is important for this rule to
be at the top of the list. The rules you comment out will be redundant.</p>
<p>Before your system can implement the changes in udev-rules, it is
necessary to re-start udev by running the scripts as indicated.</p>
<p>You may         now follow the hplip documentation to set up the program.</p>
<p>Hopefully some of this is of value to users of other Linux distributions as
well.</p>
<p>Documentation provided by Niko Sauer.</p>
<hr></div>
<div class="section">
<h1><a id="step-2-install-dependency-packages" name="step-2-install-dependency-packages">Step 2: Install Dependency Packages</a></h1>
<p>Use the <a class="reference" href="other.html">Other Linux Distros</a> page for a list of required depencency packages.</p>
<p>Use your distro documentation for installing the packages.</p>
<hr></div>
<div class="section">
<h1><a id="step-3-download-hplip" name="step-3-download-hplip">Step 3: Download HPLIP</a></h1>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">We recommend that you download the HPLIP tarball to your home or desktop directory.</p>
</div>
<p><strong>A.</strong> Click here to <a class="reference" href="http://prdownloads.sourceforge.net/hplip/hplip-2.8.2.tar.gz">Download the Regular Tarball</a></p>
<p><strong>B.</strong> Go to the directory where you downloaded the HPLIP tarball.</p>
<p>Example:</p>
<pre class="literal-block">
cd ~/Desktop
</pre>
<p><strong>C.</strong> Uncompress the tarball.</p>
<p>Enter this command:</p>
<pre class="literal-block">
tar xvfz hplip-2.8.2.tar.gz
</pre>
<p>This will create a directory with the same name as the tarball file.</p>
<p><strong>D.</strong> Change your working directory to the hplip-2.8.2 directory.</p>
<p>Example:</p>
<pre class="literal-block">
cd hplip-2.8.2
</pre>
<hr></div>
<div class="section">
<h1><a id="step-4-configure-hplip-for-installation" name="step-4-configure-hplip-for-installation">Step 4: Configure HPLIP for installation</a></h1>
<p><strong>A.</strong> This step configures the development environment and checks that your system is ready to install HPLIP.</p>
For specific information on using ./configure and the different options <a href="#" onClick="MyWindow=window.open('../configure.html','MyWindow','toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=900,height=400'); return false;">please go here</a>. Also reference your distro documentation and configuration for additional information on which tags are relevant.<p>Enter this command (select the appropriate command depending on your system configuration):</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">PPD Install:</p>
</div>
<p>32 bit distro users:</p>
<pre class="literal-block">
./configure --prefix=/usr --enable-foomatic-ppd-install --with-hpppddir=&lt;hpppddir path here&gt;  --enable-foomatic-rip-hplip
</pre>
<p>64 bit distro users</p>
<pre class="literal-block">
./configure --prefix=/usr --enable-foomatic-ppd-install --with-hpppddir=&lt;hpppddir path here&gt;  --enable-foomatic-rip-hplip --libdir=/usr/lib64
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">DRV Install:</p>
</div>
<p>32 bit distro users:</p>
<pre class="literal-block">
./configure --prefix=/usr --enable-foomatic-drv-install --with-drvdir=&lt;drvdir path here&gt;  --with-hpppddir=&lt;hpppddir path here&gt;  --enable-foomatic-rip-hplip
</pre>
<p>64 bit distro users</p>
<pre class="literal-block">
./configure --prefix=/usr --enable-foomatic-drv-install --with-drvdir=&lt;drvdir path here&gt;  --with-hpppddir=&lt;hpppddir path here&gt;  --enable-foomatic-rip-hplip --libdir=/usr/lib64
</pre>
<hr></div>
<div class="section">
<h1><a id="step-5-run-make" name="step-5-run-make">Step 5: Run Make</a></h1>
<p><strong>A.</strong> This step will compile the HPLIP source.</p>
<div class="important">
<p class="first admonition-title">Important</p>
<p class="last">You want to run make as a regular user, NOT as root.</p>
</div>
<p>Enter this command:</p>
<pre class="literal-block">
make
</pre>
<hr></div>
<div class="section">
<h1><a id="step-6-run-make-install" name="step-6-run-make-install">Step 6: Run Make Install</a></h1>
<p><strong>A.</strong> This step will install HPLIP.</p>
<p>Enter this command:</p>
<pre class="literal-block">
su -c &quot;make install&quot;
</pre>
<hr></div>
<div class="section">
<h1><a id="step-7-post-installation-step-s" name="step-7-post-installation-step-s">Step 7: Post Installation Step(s)</a></h1>
<p><strong>A.</strong> If you are going to be setting up a printer with USB and the printer is already plugged in, you will need to do one of the following:</p>
<ol class="arabic simple">
<li>Unlpug and re-plug in the USB printer, or</li>
<li>Restart your PC.</li>
</ol>
<p>Failure to do this will cause your USB printer to not be detected by HPLIP.</p>
<hr></div>
<div class="section">
<h1><a id="step-8-configuring-your-printer-using-hp-setup" name="step-8-configuring-your-printer-using-hp-setup">Step 8: Configuring your printer using hp-setup</a></h1>
<p><a class="reference" href="../hp_setup.html">Continue to hp-setup</a></p>
</div>
</div>

<hr size="1"/>
<center><small>Page last updated: Wed Jan 30 14:56:16 2008; HPLIP Version: 2.8.2</small></center>
</div>
</td></tr></table>
</div>
<!-- end content -->
<!-- end container -->
<div id="footer"><!-- start footer -->
        <hr size="1"/>
        <a href="../../../legal.html">Legal Notices</a>
        Copyright &#169; 2003-2007, Hewlett-Packard Development Company, L.P.
        <a href="mailto:hplip@hp.com">Contact Site Maintainer</a><br>
        <a href="http://sourceforge.net/" alt="Hosted by Sourceforge.net"><img src="../../../images/sflogo.png" border="0"></a>
</div>
<!-- end footer -->
</div><!-- end page -->

<!-- google analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1543832-1";
urchinTracker();
</script>
<!-- start google analytics from hplip.marketing -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1543832-7";
urchinTracker();
</script>
<!-- end google analytics -->


<!-- START OF ACTIVEMETER CODE -->
<script type="text/javascript" language="javascript">
var __pid=30231;
var __am_invisible=1;
</script>
<!-- END OF ACTIVEMETER CODE -->

</body>
</html>
