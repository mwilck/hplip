<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon" />
<title>USB Port Permissions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../styles/default.css" type="text/css" /> 
<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE" />
<META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT" />
<META NAME="DESCRIPTION" CONTENT="HP Linux Imaging and Printing - HPLIP is an HP developed solution for printing, scanning, and faxing with HP inkjet and laser based printers in Linux.">
<META NAME="KEYWORDS" CONTENT="HPLIP, HP, Linux, Printing, HPIJS">
</head>
<body>
<div id="page"><!-- start page -->
<div id="container"><!-- start main container -->
<td width=80%>
<div id="content"><!-- start content -->
<div class="document" id="manual-process-for-usb-port-permissions-verification">
<h1 class="title">Manual Process for USB Port Permissions Verification</h1>
<p><strong>1.</strong> Verify device/bus port has correct permission.</p>
<p>Check your USB port permissions.</p>
<p><strong>A.</strong> Open a terminal.</p>
<p>Enter this commmand:</p>
<pre class="literal-block">
lsusb
</pre>
<p>Result:</p>
<pre class="literal-block">
Bus 002 Device 002: ID 046d:c016 Logitech, Inc. M-UV69a Optical Wheel Mouse
Bus 002 Device 001: ID 0000:0000
Bus 003 Device 013: ID 03f0:2312 Hewlett-Packard
</pre>
<p><strong>B.</strong> Check the permission on the directory.</p>
<p>Enter this command:</p>
<pre class="literal-block">
ls -l /dev/bus/usb/003/013
</pre>
<p>This WILL be different on your system, the 003 is the Bus and the 013 is the Device verify from the lsusb output.</p>
<p>Example:</p>
<pre class="literal-block">
ls -l /dev/bus/usb/&lt;bus&gt;/&lt;device&gt;
</pre>
<p>Where from the result from the above 'lsusb' is: Bus 003 Device 013: ID 03f0:2312 Hewlett-Packard
BUS = 003
DEVICE = 013</p>
<p>Hence the command to run would be: ls -l /dev/bus/usb/003/013</p>
<p>Result from ls -l /dev/bus/usb/&lt;bus&gt;/&lt;device&gt;:</p>
<pre class="literal-block">
crw-r-r-- 1 root root 189, 268 2007-05-24 15:20 /dev/bus/usb/003/013
</pre>
<p>The above result will fail.  The correct result should be: (notice the crw-rw-r-- permission settings)</p>
<pre class="literal-block">
crw-rw-r-- 1 root root 189, 268 2007-05-24 15:20 /dev/bus/usb/003/013
</pre>
<p>To correct this go to Step 2. Otherwise go to the end of this document.</p>
<p><strong>2.</strong> Update the rules for usb devices.</p>
<p>Use grep to determine the line number and file to be modified.</p>
<p>Enter this command:</p>
<pre class="literal-block">
grep -Hn usb_device /etc/udev/rules.d/*
</pre>
<p>Possible Output:</p>
<pre class="literal-block">
/etc/udev/rules.d/50-udev-default.rules:133:SUBSYSTEM==&quot;usb_device&quot;, ACTION==&quot;add&quot;, PROGRAM=&quot;/bin/sh -c 'K=%k; K=$${K#usbdev}; printf bus/usb/%%03i/%%03i $${K%%%%.*} $${K#*.}'&quot;, NAME=&quot;%c&quot;, MODE=&quot;0644&quot;
</pre>
<p>Look for text similar to; SUBSYSTEM==&quot;usb_devices&quot; ..........  MODE=&quot;0644&quot;.</p>
<p>If the usb_devices mode is not set to 0664 then the usb will have incorrect permissions and will not be usable or found by HPLIP</p>
<p>Notice in the above output each line starts with: &quot;/etc/udev/rules.d/50-udev-default.rules&quot;.  This filename (50-udev-default.rules) could be different on your system.  Please note this.
Notice the :number: after the filename, (eg: /etc/udev/rules.d/50- udev-default.rules:133:) this is the line number for where the text is located in the file. Please note this as well.</p>
<p><strong>3.</strong> Edit the /etc/udev/rules.d/50-udev-default.rules file to update the permission settings.</p>
<p>Enter this commmand:</p>
<pre class="literal-block">
su -c 'nano /etc/udev/rules.d/50-udev-default.rules'
</pre>
<p>Or on systems that use sudo run:</p>
<pre class="literal-block">
sudo nano /etc/udev/rules.d/50-udev-default.rules
</pre>
<p>Go to the line number that is applicable (see above), in this case the line number is &quot;133&quot;.
Change the &quot;MODE=&quot;0644&quot;&quot; TO MODE=&quot;0664&quot;</p>
<p>Save the file, and exit. (Control-O, Enter, and then Control-X)</p>
<center><a href="JavaScript:window.close()">Close</a> this window to continue.</center></div>

<hr size="1"/>
<center><small>Page last updated: Thu Jun 14 16:07:55 2007; HPLIP Version: 2.7.10</small></center>
</div>
</td></tr></table>
</div>
<!-- end content -->
<!-- end container -->
<div id="footer"><!-- start footer -->
        <hr size="1"/>
        <a href="../../legal.html">Legal Notices</a>
        Copyright &#169; 2003-2007, Hewlett-Packard Development Company, L.P.
        <a href="mailto:hplip@hp.com">Contact Site Maintainer</a><br>
        <a href="http://sourceforge.net/" alt="Hosted by Sourceforge.net"><img src="../../images/sflogo.png" border="0"></a>
</div>
<!-- end footer -->
</div><!-- end page -->

<!-- google analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1543832-1";
urchinTracker();
</script>
<!-- start google analytics from hplip.marketing -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1543832-7";
urchinTracker();
</script>
<!-- end google analytics -->


<!-- START OF ACTIVEMETER CODE -->
<script type="text/javascript" language="javascript">
var __pid=30231;
var __am_invisible=1;
</script>
<!-- END OF ACTIVEMETER CODE -->

</body>
</html>
