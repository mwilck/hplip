<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

 <head>
  <title>HPLIP Technical Documentation - Printer Driver</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
  <!-- <link rel="stylesheet" href="../styles/style.css" type="text/css" /> -->
  <link rel="stylesheet" href="../styles/rest.css" type="text/css" /> 
  <link rel="stylesheet" href="../styles/default.css" type="text/css" /> 
       <meta name="author" content="" />
       <meta name="email" content="" />
  <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
  <META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT">
 </head>

 <body>
    <table border="0" width="100%" cellspacing="0">
        <tr>
            <td align="left" valign="top">
                <a href="../index.html"><img src="../images/hp-tux-printer.png" alt="HP Linux Imaging and Printing" align="left" border="0"/></a>
                <h1>HP Linux Imaging and Printing (HPLIP)</h1>
            </td>
        </tr>
    </table>

    <table  border="0" width="100%" cellspacing="4">
        <tr>
            <td colspan="3"><hr noshade="noshade" size="1"/></td>
        </tr>
        <tr>
        <!-- LEFT SIDE NAVIGATION -->
            <td  valign="top" class="navleft" width="5%"> <!-- nowrap="nowrap" -->
                <div class="menuheader">About</div> 
                <menu compact="compact">
                    <li><a href="../features.html" title="">Features</a></li> 
                    <li><a href="../screenshots.html" title="">Screenshots</a></li> 
                    <li><a href="../faqs.html" title="FAQs">FAQs</a></li> 
                </menu>

                <div class="menuheader">Setup and Installation</div> 
                <menu compact="compact">
                    <li><a href="../system_requirements.html" title="System Requirements">System Requirements</a></li> 
                    <li><a href="../supported_devices/index.html" title="Supported Devices">Supported Devices</a></li> 
                    <li><a href="http://sourceforge.net/project/showfiles.php?group_id=149981" title="Downloads">Downloads</a></li> 
                    <li><a href="../install/index.html" title="Installation Instructions">Installation Instructions</a></li> 
                </menu>

                <div class="menuheader">Usage and Support</div> 
                <menu compact="compact">
                    <li><a href="../mailing_lists.html" title="Mailing Lists">Mailing Lists</a></li>
                    <li><a href="../howtos/index.html" title="How-Tos">How-Tos</a></li> 
                    <li><a href="../troubleshooting/index.html" title="Troubleshooting">Troubleshooting</a></li>
                    <li><a href="../release_notes.html" title="Release Notes">Release Notes</a></li>
                    <!-- <li><a href="" title="Software Patches">Software Patches</a></li> -->
                </menu>

                <div class="menuheader">Resources</div>
                <menu compact="compact">
                    <li><a href="../tech_docs/index.html" title="">Technical Documentation</a></li> 
                    <li><a href="http://sourceforge.net/projects/hplip/" title="Our project page on Sourceforge.net">Sourceforge Project Page</a></li> 
                    <li><a href="../license.html" title="Software License">Software License</a></li>
                    <li><a a href="../other_support.html" title="Other Support Information">Other Support Information</a></li>
                    <li><a a href="../about.html" title="About">About HPLIP</a></li>
                    <li><a href="../contacts.html" title="Contacts">Contacts</a></li>
                </menu>
            </td>

        <!-- CONTENT -->

        <a href="../index.html">Home</a> > <a href="index.html">Technical Documentation</a> > Printer Driver

        <td align="left" valign="top" class="content">
        <div class="document" id="technical-documentation-printer-driver">
<h1 class="title">Technical Documentation: Printer Driver</h1>
<p>The Hewlett-Packard Inkjet Driver (HPIJS) is a add-on printer driver for GNU Ghostscript. This driver is open source software based on the Hewlett-Packard Appliance Printing Development Kit (APDK) at <a class="reference" href="http://www.hpdevelopersolutions.com">http://www.hpdevelopersolutions.com</a>. The driver supports HP Inkjet and Laserjet printers. The driver will take RGB rasters from Ghostscript and converts them to printer-ready-bits.</p>
<p>Ghostscript uses a generalized IPC interface for HPIJS communications. This interface is called the IJS interface. The IJS interface, which was written by Raph Levien of Ghostscript, was inspired by the first HPIJS interface. The IJS interface can be used by any printer manufacturer.</p>
<p>There are two parts to the IJS interface - IJS client that resides in GNU Ghostscript and the IJS server. The IJS server is built into the printer driver, in our case the HP Inkjet driver. In this document the term IJS server, HPIJS server, HPIJS, or HP Inkjet Driver are all synonymous. They all refer to the same software component. HPIJS runs as a server or co-process to GNU Ghostscript. The server is spawned automatically by GNU Ghostscript. The following figure is a high level overview of the IJS interface between GNU Ghostscript and HPIJS.</p>
<div align="center" class="align-center"><img src="../images/gs_hpijs.png" alt="gs/hpijs diagram"/></div><p>GNU Ghostscript is a software application that interprets PostScript and displays the results on the screen or converts the PostScript into a form you can print on a non-PostScript printer.</p>
<p>PostScript is a programming language optimized for printing graphics and text, it is sometimes called a page description language. Most Linux applications support PostScript. Postscript is the standard for printing in any Linux or Unix environment.</p>
<p>Ghostscript supports many output devices, including many different printers. This document only addresses HPIJS with Ghostscript. This document is intended for distributions and experienced users. Other users should refer to their appropriate Linux distribution for HPIJS support.</p>
<p>Although HPIJS runs as a separate process from Ghostscript, HPIJS still looks like just another Ghostscript printer driver. Adding printer drivers is a well documented interface that is described in the GNU Ghostscript documentation at www.ghostscript.com. Together with Ghostscript and HPIJS, PostScript can be converted to a printer language that is compatible with many of the latest HP printer products.</p>
<p>HPIJS supports IJS interface.
More information on the IJS interface can be found at <a class="reference" href="http://www.linuxprinting.org/ijs/">http://www.linuxprinting.org/ijs/</a>.</p>
<p>Ghostscript is a command line application that runs from a Linux shell. Ghostscript can be used by itself to print to a non-Postscript printer, but generally a print spooler must be used. The print spooler must be configured to use Ghostscript when printing to a non-Postscript printer. Most Linux distributions all ready support HPIJS in their spooler system, see their web site for spooler support questions. Additional information is available at www.linuxprinting.org.</p>
<p>HPIJS provides no I/O. HPIJS emits standard file output. The output can be directed to a file or to the actual device via the parallel or USB port. This &quot;raw&quot; printing does not require bi-directional I/O. Some all-in-one devices do not support &quot;raw&quot; I/O and must use HPLIP for printing (ie: OfficeJet K80). In this case HPIJS output is sent to the &quot;hp&quot; CUPS backend, the backend opens an 1284.4/MLC print channel, then the data is passed to the actual device.</p>
<p>HPIJS supports all the current HP printer models with different Ghostscript command line parameters. Different printer models are selected with the IEEE 1284 Manufacturer and Model strings. This information can come from the query of a printer over the parallel or usb port. Common printer models are divided into different device classes. Each device class share common printer attributes such as print modes and paper sizes. HPIJS will automatically map the printer model to a specific device class.</p>
<p>The following Ghostscript commands are required when using HPIJS.</p>
<pre class="literal-block">
-sDEVICE=ijs
-sIjsServer=hpijs
-dIjsUseOutputFD
-sDeviceManufacturer=x   (x equals: &quot;HEWLETT-PACKARD&quot;, &quot;HP&quot;, &quot;APOLLO&quot;)
-sDeviceModel=x          (x equals: &quot;DESKJET 990&quot;, &quot;DESKJET 670&quot;, etc...)
</pre>
<p>The following Ghostscript commands are optional when using HPIJS.</p>
<pre class="literal-block">
-dDuplex=false -dTumble=false (none)
-dDuplex=true  -dTumble=false (book)
-dDuplex=true  -dTumble=true  (tablet)

-sIjsParams=&quot;Quality:Quality=n,Quality:ColorMode=n,Quality:MediaType=n,
             Quality:PenSet=n,Quality:FullBleed=n,PS:MediaPosition=n&quot;

    Quality equals: 0=normal (default), 1=draft, 2=best, 3=hires, 4=fastdraft
    ColorMode equals: 0=grey_k, 1=grey_cmy, 2=color (default)
    MediaType equals: 0=plain (default), 1=premium, 2=photo
    PenSet equals: 0=black_pen, 1=color_pen, 2=both_pens, 3=mdl_pen, 4=mdl_both
    FullBleed equals: 0=no (default), 1=yes
    MediaPosition equals: 1=upper_tray, 4=lower_tray, 7=autoselect (default)
</pre>
<p>PenSet Definitions</p>
<pre class="literal-block">
black_pen: only black pen in the printer
color_pen: only color pen in the printer
both_pens: black &amp; color pens in printer
mdl_pen: photo pen in the printer
mdl_both: color pen and photo pen in printer
</pre>
<p><strong>Caveats</strong></p>
<ol class="arabic simple">
<li>Note, there are defaults for all optional commands. PenSet default is defined by each device class.</li>
<li>The Quality, MediaType, ColorMode, PenSet and FullBleed are used to set the print mode. Not all combinations of Quality, MediaType, ColorMode, PenSet and FullBleed are valid print modes. If an invalid print mode is set, the job will still print, because HPIJS will default to a print mode that makes sense given the input. HPIJS will send any error message to stderr and syslog. Print modes are device class specific, see the <a class="reference" href="../tech_docs/device_classes.html">Printer Device Classes</a> descriptions for more details.</li>
</ol>
<ol class="arabic simple" start="4">
<li>MediaPosition can be any valid PCL Media Source value. MediaPositon defaults to &quot;autoselect&quot; which means the printer will decide which tray to use. MediaPosition is recognized by DJ9xxVIP, DJGenericVIP and HP LaserJet only. All other device classes ignore this command.</li>
</ol>
</div>


        <hr size="1"/>
        <small>Last update: Mon May  1 18:18:23 2006</small>

        <!-- FOOTER -->
    </table>
    <table border="0" width="100%" cellspacing="0">
        <tr>
            <td colspan="3"><hr noshade="noshade" size="1"/></td>
        </tr>
        <!-- <tr><td colspan="3" class="footer"></td> -->
        <tr>
            <td class="footer"><a href="../legal.html">Legal Notices</a></td>
            <td class="footer">Copyright &#169; 2003-2006, Hewlett-Packard Development Company, L.P.</td>
            <td class="footer"><a href="mailto:hplip@hp.com">Contact Site Maintainer</a></td>
        </tr>
        <tr>
            <td colspan="3" class="footer"><a href="http://sourceforge.net/" alt="Hosted by Sourceforge.net"><img src="../images/sflogo.png" border="0"></a></td>
        </tr>
    
    </table>
</body>

</html>
