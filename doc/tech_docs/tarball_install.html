<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />
<title>HPLIP Technical Documentation - Portablity Reference</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../styles/default.css" type="text/css" /> 
<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE" />
<META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT" />
<META NAME="DESCRIPTION" CONTENT="HP Linux Imaging and Printing - HPLIP is an HP developed solution for printing, scanning, and faxing with HP inkjet and laser based printers in Linux.">
<META NAME="KEYWORDS" CONTENT="HPLIP, HP, Linux, Printing, HPIJS">
</head>
<body>
<div id="page"><!-- start page -->
<div id="container"><!-- start main container -->
<!-- start banner -->

<div id="banner">
<div id="banner_graphics">
        <div id="floatleft">
        <img src="../images/hplogo2.png" alt="HP Logo" border="0" />
        </div>
        <div id="floatcenter">
        <a href="../index.html">
        <img src="../images/hpliplogo.png" alt="HP Logo" border="0" />
        </a>
        </div>
        <div id="floatright">
        <img src="../images/tuxlogo2.png" alt="Tux" border="0" />
        </div>
    </div>
</div>
<!-- end banner -->

<div id="navbar">
<table>
    <tr>
        <td valign="top">
<div id="sidebar-a">
<ul id="sidebar-a-list">
    <menu compact="compact">
        <div class="menuheader"><a href="../index.html" title="">Home</a></div>
    </menu>

<div class="menuheader">About</div>
    <menu compact="compact">
        <li><a href="../features.html" title="">Features</a></li> 
        <li><a href="../screenshots.html" title="">Screenshots</a></li> 
        <li><a href="../faqs.html" title="FAQs">FAQs</a></li> 
        <li><a a href="../about.html" title="About">About HPLIP</a></li>
    </menu>
<div class="menuheader">Setup and Installation</div>
    <menu compact="compact">
        <li><a href="../downloads.html" title="Downloads">Download HPLIP</a></li>
        <li><a href="../install/index.html" title="Installation Instructions">Installation Instructions</a></li> 
        <li><a href="../system_requirements.html" title="System Requirements">System Requirements</a></li> 
        <li><a href="../supported_devices/index.html" title="Supported Devices">Supported Devices</a></li> 
    </menu>
<div class="menuheader">Usage and Support</div>
    <menu compact="compact">
        <li><a href="../mailing_lists.html" title="Mailing Lists">Mailing Lists</a></li>
        <li><a href="../howtos/index.html" title="How-Tos">How-Tos</a></li> 
        <li><a href="../troubleshooting/index.html" title="Troubleshooting">Troubleshooting</a></li>
        <li><a href="../release_notes.html" title="Release Notes">Release Notes</a></li>
    </menu>
<div class="menuheader">Resources</div>
    <menu compact="compact">
        <li><a href="../tech_docs/index.html" title="">Technical Documentation</a></li> 
        <li><a href="http://sourceforge.net/projects/hplip/" title="Our project page on Sourceforge.net">Sourceforge Project Page</a></li> 
        <li><a href="../license.html" title="Software License">Software License</a></li>
        <li><a a href="../other_support.html" title="Other Support Information">Other Support Information</a></li>
        <li><a href="../contacts.html" title="Contacts">Contacts</a></li>
    </menu>
</ul>
</div>
<!-- end sidebar --></td>
</div>
<td width=100%>
<div id="content"><!-- start content -->
        <a href="../index.html">Home</a>
&gt;
<a href="index.html">Technical Documentation</a>
&gt;
Portablity Reference

<hr size="1"/>
        <div class="document">
<div class="section">
<h1><a id="technical-documentation-portablity-reference" name="technical-documentation-portablity-reference">Technical Documentation: Portablity Reference</a></h1>
<p>HPLIP uses GNU Autotools for building and installing. GNU Autotools simplify most portability issues automatically, but some customization may be desirable. This section documents different configuration options that are available and some caveats for building HPLIP on different distributions and platforms.</p>
<p>This information is useful for package maintainers and users who want to build and install HPLIP from the source tar ball. Most users don't not need to build from source code and should get the latest HPLIP package from their distribution.</p>
<p>This section assumes all System Requirements have been met and any pre-existing HPLIP install uses the same &quot;./configure --prefix=/usr&quot; parameters. For more detailed install instructions see <a class="reference" href="../install/index.html">Installation Instructions</a> .</p>
<p>The top level master makefile will compile and install HPLIP using the following instructions.</p>
<div class="compound">
<p>tar xzvf hplip-0.9.x.tar.gz
cd hplip-0.9.x
./configure --prefix=/usr
make
make install
/etc/init.d/hplip restart</p>
</div>
<p>If HPLIP built and installs correctly you should get the following response. Note, our example assumes hpiod and hpssd were already running.</p>
<div class="compound">
<p>Stopping hpiod:                                            [  OK  ]
Stopping hpssd:                                            [  OK  ]
Starting hpiod:                                            [  OK  ]
Starting hpssd:                                            [  OK  ]</p>
</div>
<p>Now we must restart cupsd in order to let CUPS see the new &quot;hp&quot; backend:</p>
<div class="compound">
<p>/etc/init.d/cups restart</p>
</div>
<p><strong>Caveats</strong></p>
<ol class="arabic simple">
<li>Network support requires libsnmp. HPLIP can be build without network support. At configure time use the following command.</li>
</ol>
<div class="compound">
<p>./configure --prefix=/usr --disable-network-build</p>
</div>
<ol class="arabic simple" start="2">
<li>The HPLIP startup/shutdown script is Red Hat (chkconfig) and LSB (install_initd) compliant. If your distribution is not compliant the script may not work.</li>
<li>In order to get HPLIP to compile with libsnmp on SUSE 9.1 you need add the following symlink for libcrypto.</li>
</ol>
<div class="compound">
<p>ln -s /usr/lib/libcrypto.so.0.9.7 /usr/lib/libcrypto.so</p>
</div>
<ol class="arabic simple" start="4">
<li>For distribution package managers the following ./configure options are available. This allows the package manager to configure these options.</li>
</ol>
<div class="compound">
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--disable-rpm-install</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>disables sane, icon, /etc/hp and /etc/init.d install (default = disabled)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--disable-foomatic-install</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>disables foomatic install (HPIJS option, default = enabled)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--disable-cups-install</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>disables cups install (HPIJS option, default = enabled)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--disable-network-build</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>disables building network support, will not link with libsnmp (default = enabled)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--disable-pp-build</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>disables building parallel port support (default = enabled)</td></tr>
</tbody>
</table>
</div>
<ol class="arabic simple" start="5">
<li>The HPLIP startup script must be executed before the CUPS startup script at boot time.</li>
<li>For Mandrake be sure to include the net-snmp-mibs package for network support.</li>
<li>In order to run the HP Device Manager, PyQt needs to be installed. Also Fedora C3 requires the &quot;sip&quot; module, see the following Fedora C3 instructions.</li>
</ol>
<div class="compound">
<p>yum install PyQt
yum install sip</p>
</div>
<ol class="arabic simple" start="8">
<li>In SUSE 9.2 and above PyQt is now part of kdebindings3-python.</li>
<li>In order to run HPLIP with Fedora C4 you must disable SELinux protection. Under &quot;Security Level Configuration&quot;, select SELinux tab, un-click &quot;Enforcing Current:Permissive&quot;. The default SELinux policies will conflict with HPLIP I/O. If you want to run with SELinux enabled install the FC4 HPLIP rpm available at RH.</li>
<li>HPLIP can be uninstalled with the &quot;make uninstall&quot; command.</li>
<li>With FC4 64-bit systems use must use &quot;./configure --prefix=/usr --libdir=/usr/lib64&quot; in order to get libsane-hpaio installed correctly.</li>
</ol>
</div>
<div class="section">
<h1><a id="hpijs-portability-reference" name="hpijs-portability-reference">HPIJS Portability Reference</a></h1>
<p>The previous section installed the complete HPLIP package which includes HPIJS. HPIJS has it's own Makefile which is called by the HPLIP master Makefile. HPIJS predates HPLIP and some distributions package HPIJS separately. Since HPLIS has a separate makefile, HPIJS can be built and installed separately from HPLIP. HPIJS has it's own configuration options.</p>
<p>The HPIJS &quot;prnt/hpijs/Makefile&quot; will compile and install HPIJS using the following instructions. Note, you must <strong>not</strong> use the top level HPLIP Makefile.</p>
<div class="compound">
<p>tar xzvf hpip-0.9.x.tar.gz
cd hplip-0.9.x/prnt/hpijs
./configiure --prefix=/usr
make
make install</p>
</div>
<p>Now we must restart cupsd in order to cause the CUPS daemon to re-read all the PPD files in the PPD directory.</p>
<div class="compound">
<p>/etc/init.d/cups restart</p>
</div>
<p>You can verify HPIJS was build and installed correctly with the following command.</p>
<div class="compound">
<p class="compound-first">hpijs -h</p>
<p class="compound-last">Hewlett-Packard Co. Inkjet Server 2.x
Copyright (c) 2001-2006, Hewlett-Packard Co.</p>
</div>
<p><strong>Caveats</strong></p>
<ol class="arabic simple">
<li>For distribution package managers the following ./configure options are available for HPIJS.</li>
</ol>
<div class="compound">
<blockquote class="compound-first">
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--disable-foomatic-install</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>disables foomatic install (default = enabled)</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--disable-cups-install</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>disables cups install (default = enabled)</td></tr>
</tbody>
</table>
</blockquote>
<p class="compound-middle">Foomatic install - (1) copy HP HPIJS PPD files to /(prefix)/share/ppd/HP (2) copy foomatic-rip to /(prefix)/bin (3) gzip all PPD files.</p>
<dl class="compound-last docutils">
<dt>CUPS install - (1) remove any old HP HPIJS PPD files from the CUPS PPD directory (2) symlink the HP HPIJS PPD files to the CUPS PPD directory</dt>
<dd><ol class="first last arabic simple" start="3">
<li>symlink foomatic-rip to the CUPS filter directory.</li>
</ol>
</dd>
</dl>
</div>
<ol class="arabic simple" start="2">
<li>If you are building Ghostscript from scratch and gs gets a missing font error message, try the following symbolic link. Ghostscript looks for fonts in hardcoded directories, see GS_LIB_DEFAULT in the Ghostscript Makefile. For Red Hat the following symbolic link will allow Ghostscript to find fonts with out modifying the makefile. Other distributions may have different font directories.</li>
</ol>
<div class="compound">
<p># ln -s /usr/share/fonts/default/Type1 /usr/share/ghostscript/fonts</p>
</div>
</div>
</div>

<hr size="1"/>
<center><small>Page last updated: Tue Dec  5 14:27:43 2006; HPLIP Version: 1.7.4</small></center>
</div>
</td></tr></table>
</div>
<!-- end content -->
<!-- end container -->
<div id="footer"><!-- start footer -->
        <hr size="1"/>
        <a href="../legal.html">Legal Notices</a>
        Copyright &#169; 2003-2007, Hewlett-Packard Development Company, L.P.
        <a href="mailto:hplip@hp.com">Contact Site Maintainer</a><br>
        <a href="http://sourceforge.net/" alt="Hosted by Sourceforge.net"><img src="../images/sflogo.png" border="0"></a>
</div>
<!-- end footer -->
</div><!-- end page -->

<!-- google analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1543832-1";
urchinTracker();
</script>
<!-- start google analytics from hplip.marketing -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1543832-7";
urchinTracker();
</script>
<!-- end google analytics -->


<!-- START OF ACTIVEMETER CODE -->
<script type="text/javascript" language="javascript">
var __pid=30231;
var __am_invisible=1;
</script>
<!-- END OF ACTIVEMETER CODE -->

</body>
</html>
