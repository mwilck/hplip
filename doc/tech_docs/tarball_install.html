<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

 <head>
  <title>HPLIP Technical Documentation - Portablity Reference</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- <link rel="stylesheet" href="../styles/style.css" type="text/css" /> -->
  <link rel="stylesheet" href="../styles/rest.css" type="text/css" /> 
  <link rel="stylesheet" href="../styles/default.css" type="text/css" /> 
       <meta name="author" content="" />
       <meta name="email" content="" />
  <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
  <META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT">
 </head>

 <body>
    <table border="0" width="100%" cellspacing="0">
        <tr>
            <td align="left" valign="top">
                <a href="../index.html"><img src="../images/hp-tux-printer.png" alt="HP Linux Imaging and Printing" align="left" border="0"/></a>
                <h1>HP Linux Imaging and Printing (HPLIP)</h1>
            </td>
        </tr>
    </table>

    <table  border="0" width="100%" cellspacing="4">
        <tr>
            <td colspan="3"><hr noshade="noshade" size="1"/></td>
        </tr>
        <tr>
        <!-- LEFT SIDE NAVIGATION -->
            <td  valign="top" class="navleft" width="5%"> <!-- nowrap="nowrap" -->
                <div class="menuheader">About</div> 
                <menu compact="compact">
                    <li><a href="../features.html" title="">Features</a></li> 
                    <li><a href="../screenshots.html" title="">Screenshots</a></li> 
                    <li><a href="../faqs.html" title="FAQs">FAQs</a></li> 
                </menu>

                <div class="menuheader">Setup and Installation</div> 
                <menu compact="compact">

                    <li><a href="../downloads.html" title="Downloads"><b>Download HPLIP</b></a></li>
                    <li><a href="../system_requirements.html" title="System Requirements">System Requirements</a></li> 
                    <li><a href="../supported_devices/index.html" title="Supported Devices">Supported Devices</a></li> 
                    <!-- <li><a href="http://sourceforge.net/project/showfiles.php?group_id=149981" title="Downloads">Downloads</a></li>  -->
                    <li><a href="../install/index.html" title="Installation Instructions">Installation Instructions</a></li> 
                </menu>

                <div class="menuheader">Usage and Support</div> 
                <menu compact="compact">
                    <li><a href="../mailing_lists.html" title="Mailing Lists">Mailing Lists</a></li>
                    <li><a href="../howtos/index.html" title="How-Tos">How-Tos</a></li> 
                    <li><a href="../troubleshooting/index.html" title="Troubleshooting">Troubleshooting</a></li>
                    <li><a href="../release_notes.html" title="Release Notes">Release Notes</a></li>
                    <!-- <li><a href="" title="Software Patches">Software Patches</a></li> -->
                </menu>

                <div class="menuheader">Resources</div>
                <menu compact="compact">
                    <li><a href="../tech_docs/index.html" title="">Technical Documentation</a></li> 
                    <li><a href="http://sourceforge.net/projects/hplip/" title="Our project page on Sourceforge.net">Sourceforge Project Page</a></li> 
                    <li><a href="../license.html" title="Software License">Software License</a></li>
                    <li><a a href="../other_support.html" title="Other Support Information">Other Support Information</a></li>
                    <li><a a href="../about.html" title="About">About HPLIP</a></li>
                    <li><a href="../contacts.html" title="Contacts">Contacts</a></li>
                </menu>
            </td>

        <!-- CONTENT -->

        <a href="../index.html">Home</a>
&gt;
<a href="index.html">Technical Documentation</a>
&gt;
Portablity Reference


        <td align="left" valign="top" class="content">
        <div class="document">
<div class="section">
<h1><a id="technical-documentation-portablity-reference" name="technical-documentation-portablity-reference">Technical Documentation: Portablity Reference</a></h1>
<p>HPLIP uses GNU Autotools for building and installing. GNU Autotools simplify most portability issues automatically, but some customization may be desirable. This section documents different configuration options that are available and some caveats for building HPLIP on different distributions and platforms.</p>
<p>This information is useful for package maintainers and users who want to build and install HPLIP from the source tar ball. Most users don't not need to build from source code and should get the latest HPLIP package from their distribution.</p>
<p>This section assumes all System Requirements have been met and any pre-existing HPLIP install uses the same &quot;./configure --prefix=/usr&quot; parameters. For more detailed install instructions see <a class="reference" href="../install/index.html">Installation Instructions</a> .</p>
<p>The top level master makefile will compile and install HPLIP using the following instructions.</p>
<pre class="literal-block">
tar xzvf hplip-0.9.x.tar.gz
cd hplip-0.9.x
./configure --prefix=/usr
make
make install
/etc/init.d/hplip restart
</pre>
<p>If HPLIP built and installs correctly you should get the following response. Note, our example assumes hpiod and hpssd were already running.</p>
<pre class="literal-block">
Stopping hpiod:                                            [  OK  ]
Stopping hpssd:                                            [  OK  ]
Starting hpiod:                                            [  OK  ]
Starting hpssd:                                            [  OK  ]
</pre>
<p>Now we must restart cupsd in order to let CUPS see the new &quot;hp&quot; backend:</p>
<pre class="literal-block">
/etc/init.d/cups restart
</pre>
<p><strong>Caveats</strong></p>
<ol class="arabic simple">
<li>Network support requires libsnmp. HPLIP can be build without network support. At configure time use the following command.</li>
</ol>
<pre class="literal-block">
./configure --prefix=/usr --disable-network-build
</pre>
<ol class="arabic simple" start="2">
<li>The HPLIP startup/shutdown script is Red Hat (chkconfig) and LSB (install_initd) compliant. If your distribution is not compliant the script may not work.</li>
<li>In order to get HPLIP to compile with libsnmp on SUSE 9.1 you need add the following symlink for libcrypto.</li>
</ol>
<pre class="literal-block">
ln -s /usr/lib/libcrypto.so.0.9.7 /usr/lib/libcrypto.so
</pre>
<ol class="arabic simple" start="4">
<li>For distribution package managers the following ./configure options are available. This allows the package manager to configure these options.</li>
</ol>
<pre class="literal-block">
--disable-rpm-install        disables sane, icon, /etc/hp and /etc/init.d install (default = disabled)
--disable-foomatic-install   disables foomatic install (HPIJS option, default = enabled)
--disable-cups-install       disables cups install (HPIJS option, default = enabled)
--disable-network-build      disables building network support, will not link with libsnmp (default = enabled)
--disable-pp-build           disables building parallel port support (default = enabled)
</pre>
<ol class="arabic simple" start="5">
<li>The HPLIP startup script must be executed before the CUPS startup script at boot time.</li>
<li>For Mandrake be sure to include the net-snmp-mibs package for network support.</li>
<li>In order to run the HP Device Manager, PyQt needs to be installed. Also Fedora C3 requires the &quot;sip&quot; module, see the following Fedora C3 instructions.</li>
</ol>
<pre class="literal-block">
yum install PyQt
yum install sip
</pre>
<ol class="arabic simple" start="8">
<li>In SUSE 9.2 and above PyQt is now part of kdebindings3-python.</li>
<li>In order to run HPLIP with Fedora C4 you must disable SELinux protection. Under &quot;Security Level Configuration&quot;, select SELinux tab, un-click &quot;Enforcing Current:Permissive&quot;. The default SELinux policies will conflict with HPLIP I/O. If you want to run with SELinux enabled install the FC4 HPLIP rpm available at RH.</li>
<li>HPLIP can be uninstalled with the &quot;make uninstall&quot; command.</li>
<li>With FC4 64-bit systems use must use &quot;./configure --prefix=/usr --libdir=/usr/lib64&quot; in order to get libsane-hpaio installed correctly.</li>
</ol>
</div>
<div class="section">
<h1><a id="hpijs-portability-reference" name="hpijs-portability-reference">HPIJS Portability Reference</a></h1>
<p>The previous section installed the complete HPLIP package which includes HPIJS. HPIJS has it's own Makefile which is called by the HPLIP master Makefile. HPIJS predates HPLIP and some distributions package HPIJS separately. Since HPLIS has a separate makefile, HPIJS can be built and installed separately from HPLIP. HPIJS has it's own configuration options.</p>
<p>The HPIJS &quot;prnt/hpijs/Makefile&quot; will compile and install HPIJS using the following instructions. Note, you must <strong>not</strong> use the top level HPLIP Makefile.</p>
<pre class="literal-block">
tar xzvf hpip-0.9.x.tar.gz
cd hplip-0.9.x/prnt/hpijs
./configiure --prefix=/usr
make
make install
</pre>
<p>Now we must restart cupsd in order to cause the CUPS daemon to re-read all the PPD files in the PPD directory.</p>
<pre class="literal-block">
/etc/init.d/cups restart
</pre>
<p>You can verify HPIJS was build and installed correctly with the following command.</p>
<pre class="literal-block">
hpijs -h

Hewlett-Packard Co. Inkjet Server 2.x
Copyright (c) 2001-2006, Hewlett-Packard Co.
</pre>
<p><strong>Caveats</strong></p>
<ol class="arabic simple">
<li>For distribution package managers the following ./configure options are available for HPIJS.</li>
</ol>
<pre class="literal-block">
--disable-foomatic-install   disables foomatic install (default = enabled)
--disable-cups-install       disables cups install (default = enabled)

Foomatic install - (1) copy HP HPIJS PPD files to /(prefix)/share/ppd/HP (2) copy foomatic-rip to /(prefix)/bin (3) gzip all PPD files.

CUPS install - (1) remove any old HP HPIJS PPD files from the CUPS PPD directory (2) symlink the HP HPIJS PPD files to the CUPS PPD directory
               (3) symlink foomatic-rip to the CUPS filter directory.
</pre>
<ol class="arabic simple" start="2">
<li>If you are building Ghostscript from scratch and gs gets a missing font error message, try the following symbolic link. Ghostscript looks for fonts in hardcoded directories, see GS_LIB_DEFAULT in the Ghostscript Makefile. For Red Hat the following symbolic link will allow Ghostscript to find fonts with out modifying the makefile. Other distributions may have different font directories.</li>
</ol>
<pre class="literal-block">
# ln -s /usr/share/fonts/default/Type1 /usr/share/ghostscript/fonts
</pre>
</div>
</div>


        <hr size="1"/>
        <small>Last update: Mon May  1 18:03:34 2006; HPLIP Version: 1.6.10</small>

        <!-- FOOTER -->
    </table>
    <table border="0" width="100%" cellspacing="0">
        <tr>
            <td colspan="3"><hr noshade="noshade" size="1"/></td>
        </tr>
        <!-- <tr><td colspan="3" class="footer"></td> -->
        <tr>
            <td class="footer"><a href="../legal.html">Legal Notices</a></td>
            <td class="footer">Copyright &#169; 2003-2006, Hewlett-Packard Development Company, L.P.</td>
            <td class="footer"><a href="mailto:hplip@hp.com">Contact Site Maintainer</a></td>
        </tr>
        <tr>
            <td colspan="3" class="footer"><a href="http://sourceforge.net/" alt="Hosted by Sourceforge.net"><img src="../images/sflogo.png" border="0"></a></td>
        </tr>
    
    </table>
</body>

</html>
